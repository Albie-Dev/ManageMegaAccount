@if(_isLoading)
{
    <LoadingElement />
}

@if (UserInfo != null)
{
    <div class="dropdown">
        <button class="btn btn-light rounded-circle p-0" type="button" id="userMenuButton" data-bs-toggle="dropdown"
            aria-expanded="false" style="width: 40px; height: 40px;">
            @if (string.IsNullOrEmpty(UserInfo.Avatar))
            {
                <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center" style="width: 100%; height: 100%; object-fit: cover;">
                    @GetInitial(UserInfo.FullName)
                </div>
            }
            else
            {
                <img src="@(string.IsNullOrEmpty(UserInfo.Avatar) ? CoreConstant.NO_IMAGE : UserInfo.Avatar)" alt="Profile" class="rounded-circle"
                    style="width: 100%; height: 100%; object-fit: cover;">
            }
        </button>
        <ul class="dropdown-menu dropdown-menu-end shadow user-dropdown-menu" aria-labelledby="userMenuButton" style="width: 300px;">
            <li class="px-3 py-2">
                <div class="d-flex align-items-center">
                    @if (string.IsNullOrEmpty(UserInfo.Avatar))
                    {
                        <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; object-fit: cover; object-fit: cover;">
                            @GetInitial(UserInfo.FullName)
                        </div>
                    }
                    else
                    {
                        <img src="@(UserInfo.Avatar ?? "images/default.png")" alt="Profile" class="rounded-circle"
                            style="width: 40px; height: 40px; object-fit: cover;">
                    }
                    <div>
                        <div class="fw-bold">@(UserInfo.FullName)</div>
                        <div class="text-muted small">@UserInfo.Email</div>
                        <a href="#" class="small text-primary d-block mt-1">Xem kênh của bạn</a>
                    </div>
                </div>
            </li>
            <li>
                <hr class="dropdown-divider" />
            </li>

            <li><a class="dropdown-item" href="#"><i class="bi bi-google me-2"></i> Tài khoản Google</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-arrow-left-right me-2"></i> Chuyển đổi tài khoản</a>
            </li>
            <li>
                <a class="dropdown-item" href="#" @onclick="() => LogoutAsync()">
                    <i class="bi bi-box-arrow-right me-2"></i>
                    Đăng xuất
                </a>
            </li>
            <li>
                <a class="dropdown-item" href="#" @onclick="() => LogoutAsync(isAllDevice: true)">
                    <i class="bi bi-box-arrow-up-right me-2"></i> 
                    Đăng xuất tất cả thiết bị
                </a>
            </li>
            <li>
                <hr class="dropdown-divider" />
            </li>

            <li><a class="dropdown-item" href="#"><i class="bi bi-speedometer2 me-2"></i> YouTube Studio</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-bag-check me-2"></i> Giao dịch mua và gói thành
                    viên</a></li>

            <li>
                <hr class="dropdown-divider" />
            </li>

            <li><a class="dropdown-item" href="#"><i class="bi bi-database me-2"></i> Dữ liệu của bạn trong YouTube</a>
            </li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-moon me-2"></i> Giao diện: Giao diện thiết bị</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-translate me-2"></i> Ngôn ngữ: Tiếng Việt</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-shield-slash me-2"></i> Chế độ hạn chế: Đã tắt</a>
            </li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-geo-alt me-2"></i> Địa điểm: Việt Nam</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-keyboard me-2"></i> Phím tắt</a></li>

            <li>
                <hr class="dropdown-divider" />
            </li>

            <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i> Cài đặt</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-question-circle me-2"></i> Trợ giúp</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-chat-dots me-2"></i> Gửi ý kiến phản hồi</a></li>
        </ul>
    </div>
}
else
{

}