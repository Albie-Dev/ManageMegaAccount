@page "/login"
@layout AuthLayout
<PageTitle>Đăng nhập</PageTitle>

<div class="position-relative min-vh-100">
    <div class="container d-flex align-items-center justify-content-center min-vh-100">
        <div class="row shadow-lg rounded-4 overflow-hidden" style="max-width: 960px; width: 100%;
            background-color: rgba(255, 255, 255, 0.49);">

            <div class="col-lg-6 d-none d-lg-block p-0">
                <img src="images/auth/Login.png"
                    class="img-fluid h-100 w-100 object-fit-cover" style="object-position: center;" />
            </div>

            <div class="col-lg-6 p-5">
                <h3 class="fw-bold mb-4">@I18NHelper.GetString(key: "Button_Title_Auth_Login_Entry")</h3>
                <EditForm id="login-form-id" Model="LoginRequestDto" OnValidSubmit="HandleLogin">
                    <ErrorElement FormSummaryId="login-form-id" Errors="Errors" />
                <div class="mb-3">
                    <label class="form-label">@I18NHelper.GetString(key: "Column_Title_Auth_Email_Entry") <span class="text-danger">*</span></label>
                    <InputText @bind-Value="LoginRequestDto.Email" class="form-control" name="email"
                        id="email" placeholder="@(I18NHelper.GetString(key: "Column_Title_Auth_Email_PlaceHolder_Entry"))" />
                    <ErrorElement Errors="Errors" FieldName="@nameof(LoginRequestDto.Email)" />
                </div>

                <div class="mb-3">
                    <label class="form-label">@I18NHelper.GetString(key: "Column_Title_Auth_Password_Entry") <span class="text-danger">*</span></label>
                    <InputText @bind-Value="LoginRequestDto.Password" placeholder="@(I18NHelper.GetString(key: "Column_Title_Auth_Password_PlaceHolder_Entry"))" type="password" class="form-control"
                        name="password" id="password" />
                    <ErrorElement Errors="Errors" FieldName="@nameof(LoginRequestDto.Password)" />
                </div>

                <div class="form-check mb-4">
                    <input class="form-check-input" type="checkbox" id="rememberMe" />
                    <label class="form-check-label" for="rememberMe">@I18NHelper.GetString(key: "Checkbox_Title_Auth_Keep_Login_Entry")</label>
                </div>

                <ButtonAmam7078 Class="btn btn-primary w-100"
                    Text="@I18NHelper.GetString("Button_Title_Auth_Login_Entry")"
                    Type="submit"
                    Id="btn-login-id"
                />
                    

                <div class="d-flex justify-content-between mt-4 small">
                    <a href="/register">@I18NHelper.GetString(key: "Link_Title_Auth_New_Register_Entry")</a>
                    <a href="/forgot-password">@I18NHelper.GetString(key: "Link_Title_Auth_Forgot_Password_Entry")</a>
                </div>
                </EditForm>

                <hr class="my-4" />

                <div class="text-center mb-2">@I18NHelper.GetString(key: "Label_Title_Auth_Or_Login_With_Entry")</div>

                <div class="d-flex justify-content-between gap-2">
                    <ButtonAmam7078 Class="btn btn-outline-primary w-100"
                        Icon="bi bi-microsoft"
                        IconPosition="CIconPositionType.Right"
                        Text="Microsoft"
                        Type="button"
                        Id="btn-microsoft-id"
                        OnClick="MicrosoftGenerateLoginUrlAsyc"
                    />

                    <ButtonAmam7078 Class="btn btn-outline-danger w-100"
                        Icon="bi bi-google"
                        IconPosition="CIconPositionType.Right"
                        Text="Google"
                        Type="button"
                        Id="btn-google-id"
                        OnClick="GoogleGenerateLoginUrlAsyc"
                    />

                    <ButtonAmam7078 Class="btn btn-outline-info w-100"
                        Icon="bi bi-twitter"
                        IconPosition="CIconPositionType.Right"
                        Text="Twitter"
                        Type="button"
                        Id="btn-twitter-id"
                    />
                </div>
            </div>
        </div>
    </div>
</div>

@if (IsLoading)
{
    <LoadingElement />
}